[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile.railway"

[deploy]
# /health returns HTTP 200 once the Node.js app is listening.
healthcheckPath = "/health"
healthcheckTimeout = 60

restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# ---------------------------------------------------------------------------
# Required environment variables (set in Railway service settings):
#
#   ANTHROPIC_API_KEY   Your Anthropic API key
#   ADMIN_TOKEN         Secret token to protect the /qr auth endpoint
#   ASSISTANT_NAME      Trigger word (default: Andy)
#
# Optional:
#   TZ                  Timezone for cron tasks (e.g. Asia/Jerusalem)
#
# ---------------------------------------------------------------------------
# Required volumes (create in Railway dashboard → service → Volumes):
#
#   Mount path: /app/store    Persists SQLite DB + WhatsApp auth credentials
#   Mount path: /app/groups   Persists per-group CLAUDE.md memory files
#
# ---------------------------------------------------------------------------
